define(["require","fabric"],function(t){function i(t,i){this.canvas=t,i=i||{},i.fillColor=i.fillColor||"#000000",i.strokeColor=i.strokeColor||"#000000",i.width=i.width||10,i.offset=i.offset||0,this.cfg=i,this.initBrush()}var n=t("fabric");n.util.getRandomInt;var e=n.util.createClass(n.PatternBrush,{getPatternSrc:function(){var t=n.document.createElement("canvas");t.width=t.height=10;var i=t.getContext("2d");return i.strokeStyle=this.color,i.lineWidth=5,i.beginPath(),i.moveTo(5,0),i.lineTo(5,10),i.closePath(),i.stroke(),t}});return i.prototype.initBrush=function(){this.brush=new e(this.canvas)},i.prototype.getBrush=function(){return this.brush},i.prototype.set=function(t,i){this.cfg[t]=i},i.prototype.get=function(t){return this.cfg[t]},i.prototype.drawAt=function(){},i.prototype.drawAtPoints=function(t){this.brush._points.length=0,this.brush.width=this.cfg.width,this.brush.color=this.cfg.fillColor,t.forEach(function(t){this.brush._points.push(new n.Point(t.x,t.y))},this),this.brush._finalizeAndAddPath()},i});