define(["require","./asOutlineShape"],function(t){function e(t,e){this.initialize(t,e)}var i=t("./asOutlineShape");return e.prototype.getOutlinePoints=function(t){if(0>t)return this.outline;for(var e=[],i=t-5,n=this.outline.x,r=this.outline.y,s=this.outline.radius,o=0;360>o;o+=i)0===o?e.push({x:n,y:r-s}):90===o?e.push({x:n+s,y:r}):180===o?e.push({x:n,y:r+s}):270===o?e.push({x:n-s,y:r}):e.push({x:Math.sin(o)*s+n,y:Math.cos(o)*s+r});return e},e.prototype.onMouseDown=function(t){this.canvas.selection=!1;var e=this.canvas.getPointer(t.e);return this.outline={x:e.x,y:e.y,radius:1},this.isDrawing=!0,this},e.prototype.onMouseMove=function(t){if(this.isDrawing){var e=this.canvas.getPointer(t.e);this.outline.radius=Math.sqrt(Math.pow(e.x-this.outline.x,2)+Math.pow(e.y-this.outline.y,2)),this.renderOutline()}return this},e.prototype.renderOutline=function(){var t=this.canvas.contextTop;this.canvas.clearContext(t),t.save(),t.beginPath(),t.lineWidth=1,t.strokeStyle=this.cfg.strokeColor,t.arc(this.outline.x,this.outline.y,this.outline.radius,2*Math.PI,!1),t.stroke(),t.restore()},i.call(e.prototype),e});