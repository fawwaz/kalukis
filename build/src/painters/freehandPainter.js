define(["require","flight/lib/component","painters/withFreehandPainter"],function(t){function e(){this.defaultAttrs({canvas:void 0}),this.after("initialize",function(){this.attachEventListeners(),this.requestCanvas()}),this.requestCanvas=function(){this.trigger("request-canvas")},this.setCanvas=function(t){this.attr.canvas=t},this.attachEventListeners=function(){this.on("canvas-served",function(t,e){this.setCanvas(e.canvas)}.bind(this)),this.on("cancel-painting",function(t,e){"freehand"!==e.active&&this.stopFreehandPainting()}.bind(this)),this.on("request-freehandPainting",function(){this.cancelCurrentPainting(),this.initFreehandPainting()}.bind(this))},this.cancelCurrentPainting=function(){this.trigger("cancel-painting",{active:"freehand"})},this.initFreehandPainting=function(){this.trigger("notify",{type:"info",message:"Press [ESC] to cancel any painting"}),this.startFreehandPainting(this.attr.canvas)}}var i=t("flight/lib/component"),n=t("painters/withFreehandPainter");return i(e,n)});