define(["require","flight/lib/component","painters/mixin/withFreehandPainter"],function(n){function i(){this.defaultAttrs({canvas:void 0}),this.after("initialize",function(){this.attachEventListeners()}),this.setCanvas=function(n){this.attr.canvas=n},this.attachEventListeners=function(){this.on("canvas-ready",function(n,i){this.setCanvas(i.canvas)}.bind(this)),this.on("cancel-painting",function(n,i){"freehand"!==i.active&&this.stopFreehandPainting()}.bind(this)),this.on("request-freehandPainting",function(){this.cancelCurrentPainting(),this.initFreehandPainting()}.bind(this))},this.cancelCurrentPainting=function(){this.trigger("cancel-painting",{active:"freehand"})},this.initFreehandPainting=function(){this.trigger("notify",{type:"info",message:"Press [ESC] to cancel any painting"}),this.startFreehandPainting(this.attr.canvas)}}var t=n("flight/lib/component"),a=n("painters/mixin/withFreehandPainter");return t(i,a)});