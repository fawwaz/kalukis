define(["require"],function(){function t(){var t;this.after("initialize",function(){this.on("activeOutlineShape-changed",function(t,e){this.requestOutlineShapeInstance(e.id)}.bind(this)),this.on("brushProperty-updated",function(t,e){this.updateActiveOutlineShapeProperty(e.key,e.newValue)}.bind(this))}),this.requestOutlineShapeInstance=function(t){this.on("outlineShape-served",this.onOutlineShapeServed),this.trigger("request-outlineShape",{id:t})},this.onOutlineShapeServed=function(t,e){this.off("outlineShape-served",this.onOutlineShapeServed),this.setActiveOutlineShapeInstance(e.outlineShape)},this.setActiveOutlineShapeInstance=function(e){t=e,this.trigger("activeOutlineShape-ready",{activeOutlineShape:e})},this.getActiveOutlineShape=function(){return t},this.updateActiveOutlineShapeProperty=function(e,i){t&&t.set(e,i)}}return t});