define(["require","flight/lib/component","flight/lib/compose","flight/lib/advice","outlineShapes/rectOutline"],function(e){function t(){this.loadImages=function(e,t){var i=t.getOutline(),a={x:i.x,y:i.y,width:i.width,height:i.height};this.addImages(this.attr.canvas,e,a)},this.addImageToCanvas=function(e,t,i){var a=new FileReader,n=this;a.onload=function(t){var a=new Image;a.onload=function(){var t=new fabric.Image(a);t.set({top:i.y+i.height/2,left:i.x+i.width/2,originX:"center",originY:"center",width:i.width,height:i.height}),e.add(t).renderAll(),n.trigger("notify",{type:"info",message:"Image loaded"})},a.src=t.target.result},this.trigger("notify",{type:"info",message:"Loading image"}),a.readAsDataURL(t)},this.addImages=function(e,t,i){this.attr.canvas=e;for(var a=0;a<t.length;a++)this.addImageToCanvas(e,t[a],i);this.trigger("images-added")}}e("flight/lib/component"),e("flight/lib/compose"),e("flight/lib/advice"),e("outlineShapes/rectOutline");return t});