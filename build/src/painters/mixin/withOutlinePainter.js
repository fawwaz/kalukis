define(["require","flight/lib/compose","flight/lib/advice"],function(i){function e(){this.startOutlineShapePainting=function(i,e,o){var s={obj:e,onMouseDown:function(i){e.onMouseDown(i)},onMouseMove:function(i){e.onMouseMove(i)},onMouseUp:function(i){e.onMouseUp(i)}};e.hasOwnProperty("__hasBeenAddedAfterAdvice")||(n.mixin(e,[t.withAdvice]),e.after("finish",function(){this.finalizeOutlineShapePainting(e)}.bind(this)),e.__hasBeenAddedAfterAdvice=!0),o.unregisterExistingListeners(i),o.registerEventListeners(i,s),e.start()},this.finalizeOutlineShapePainting=function(i){this.trigger("outlineShape-painting-finished",{outlineShape:i})}}var n=i("flight/lib/compose"),t=i("flight/lib/advice");return e});