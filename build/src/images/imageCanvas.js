define(["require","flight/lib/component"],function(t){function e(){this.defaultAttrs({canvas:void 0}),this.after("initialize",function(){this.attachEventListeners()}),this.attachEventListeners=function(){this.on("add-images",function(t,e){this.addImages(e.canvas,e.images,e.cfg)})},this.addImageToCanvas=function(t,e,i){var r=new FileReader,n=this;r.onload=function(e){var r=new Image;r.onload=function(){var e=new fabric.Image(r);e.set({top:i.y+i.height/2,left:i.x+i.width/2,width:i.width,height:i.height}),t.add(e).renderAll(),n.trigger("notify",{type:"info",message:"Image loaded"})},r.src=e.target.result},this.trigger("notify",{type:"info",message:"Loading image"}),r.readAsDataURL(e)},this.addImages=function(t,e,i){this.attr.canvas=t;for(var r=0;r<e.length;r++)this.addImageToCanvas(t,e[r],i);this.trigger("images-added")}}var i=t("flight/lib/component");return i(e)});