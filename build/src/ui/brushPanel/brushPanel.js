define(["require","flight/lib/component","text!./template.html","mustache"],function(t){function e(){this.defaultAttrs({widgetEl:"#brushpanel-widget",brushItem:".brush-box-item",selectedBrushInfoEl:"#brushpanel-info .info"}),this.after("initialize",function(){this.attachEventListeners()}),this.attachEventListeners=function(){this.on(document,"brushes-loaded",function(t,e){this.renderTemplate(e)}.bind(this)),this.on("click",{brushItem:function(t,e){this.brushSelected(e.el)}})},this.brushSelected=function(t){this.select("widgetEl").find(".brush-box").removeClass("active"),$(t).parent().toggleClass("active"),this.trigger(document,"change-activeBrush",{activeBrushId:$(t).data("brushId")})},this.renderTemplate=function(t){t.brushes&&(this.$node.empty(),this.$node.append(s.render(n,t)))}}var i=t("flight/lib/component"),n=t("text!./template.html"),s=t("mustache");return i(e)});